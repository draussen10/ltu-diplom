import React, {useState} from "react";
import './App.scss'
import {YMapsComponent, CardPanel, Input, Item} from "./components";
import {useStore} from "./stores";
import {observer} from "mobx-react-lite";

function App() {
    const {
        SearchStore
    } = useStore()

    const [searchStore, _] = useState(new SearchStore())

    const onEscape = () => {
        if (window.confirm('Очистить поиск?')) {
            searchStore.setQuery('');
        }
    }

    const items = [
        'Ель зеленая',
        'Двустролка',
        'Береза серебристая',
        'Сосна высокая',
        'Липа цветущая',
        'Дуб могучий',
        'Ива плакучая',
        'Клен красивый',
        'Ясень ягодный',
        'Бук старый',
        'Пихта горная',
        'Кедр сибирский',
        'Акация ароматная',
        'Осина трепетная',
        'Магнолия великолепная',
        'Платан крупнолистный',
        'Пихта норвежская',
        'Кипарис итальянский',
        'Каштановник цветущий',
        'Абрикос южный',
        'Мандарин восточный',
        'Фейхоа экзотическая',
        'Груша сочная',
        'Яблоня кислая',
        'Акация розовая',
        'Береза пушистая',
        'Вяз величавый',
        'Груша ароматная',
        'Дуб крепкий',
        'Ель молодая',
        'Ёлка пушистая',
        'Жасмин ароматный',
        'Зеленый куст',
        'Ива жалобная',
        'Клен осенний',
        'Липа лекарственная',
        'Магнолия густоцветущая',
        'Нектарин сладкий',
        'Орех грецкий',
        'Папоротник изящный',
        'Рябина красная',
        'Слива сочная',
        'Тополь белый',
        'Укроп пряный',
        'Фикус декоративный',
        'Хвойный куст',
        'Цветущий кустарник',
        'Черешня спелая',
        'Шиповник колючий',
        'Щавель кислый',
        'Эвкалипт молодой',
        'Юкка декоративная',
        'Ягода сочная',
        'Амбарцум южный',
        'Бамбук зеленый',
        'Верба плакучая',
        'Гвоздика ароматная',
        'Дыня спелая',
        'Ежевика колючая',
        'Жимолость ягодная',
        'Земляника лесная',
        'Ирис голубой',
        'Каланхое цветущее',
        'Лаванда ароматная',
        'Мак маковый',
        'Нарцисс весенний',
        'Огурец свежий',
        'Подсолнух яркий',
        'Роза красная',
        'Сирень ароматная',
        'Тыква спелая',
        'Укроп свежий',
        'Фиалка голубая',
        'Хризантема осенняя',
        'Цикламен цветущий',
        'Чеснок острый',
        'Шалфей лекарственный',
        'Щавель листовой',
        'Эхинацея пурпурная',
        'Юкка декоративная',
        'Яблоко кислое',
        'Агава остролистная',
        'Барбарис колючий',
        'Василек синий',
        'Герань ароматная',
        'Дельфиниум высокий',
        'Ежевика садовая',
        'Жимолость душистая',
        'Земляника крупная',
        'Иглица острая',
        'Календула яркая',
        'Лютик луговой',
        'Мелисса лимонная',
        'Незабудка голубая',
        'Огурец маринованный',
        'Пион кустистый',
        'Редька острая',
        'Смородина черная'
    ]

    return (
        <div className="App">
            <YMapsComponent className={'flexDiv'}/>
            <CardPanel
                title={
                    <>
                        <div>Ботанического сада ЛТУ</div>
                        <Input
                            placeholder={'Введите поисковой запрос'}
                            value={searchStore.query}
                            onChange={searchStore.setQuery}
                            onEscape={onEscape}
                        />
                    </>
                }
            >
                <div style={
                    {
                        display: 'flex',
                        gap: '15px',
                        flexWrap: 'wrap'
                    }
                }
                >
                    {
                        items
                            .filter(item => item.toLowerCase().includes(searchStore.query.toLowerCase()))
                            .map(item => <Item>{item}</Item>)

                    }
                </div>
            </CardPanel>
        </div>
    );
}

export default observer(App);